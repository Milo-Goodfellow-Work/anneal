{
  "name": "Rust-Lean-LLM Dev",
  "build": {
    "context": "..",
    "dockerfile": "Dockerfile"
  },

  // Make the *workspace* live at /app (so your prod paths match).
  "workspaceFolder": "/app",
  "workspaceMount": "source=${localWorkspaceFolder},target=/app,type=bind,consistency=cached",

  // Fix CRLF if present, then run your init against /app (now valid).
  "postCreateCommand": "sed -i 's/\\r$//' /usr/local/bin/init-spec.sh && chmod +x /usr/local/bin/init-spec.sh && /usr/local/bin/init-spec.sh /app",

  "customizations": {
    "vscode": {
      "extensions": [
        "rust-lang.rust-analyzer",
        "leanprover.lean4",
        "ms-python.python"
      ]
    }
  }
}
